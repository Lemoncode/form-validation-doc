{"version":3,"sources":["webpack:///../gifs/async-validator.gif","webpack:///../gifs/custom-error-message.gif","webpack:///../gifs/validate-field-record-and-form.gif","webpack:///../general/validation-schema.mdx","webpack:///../gifs/nested-field.gif"],"names":["module","exports","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","alt","src","require","isMDXComponent"],"mappings":"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","file":"component---general-validation-schema-mdx-1cc369ac7d27db5e088b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/async-validator-04bec2a4817d277fbe5059a6a969ee82.gif\";","module.exports = __webpack_public_path__ + \"static/custom-error-message-5586cedd5ae761569b77e2ca392d32f1.gif\";","module.exports = __webpack_public_path__ + \"static/validate-field-record-and-form-68deb0516130b231e7f7c8817ef17798.gif\";","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/circleci/test-ci-code/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"validation-schema\"\n    }}>{`Validation Schema`}</h1>\n    <p>{`A Validation Schema allows us to define in a declarative way:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`All the validations that apply to each field of a form.`}</li>\n      <li parentName=\"ul\">{`All the record validations that apply to a given form.`}</li>\n    </ul>\n    <p>{`Let's learn how it works by following an example:`}</p>\n    <p>{`We have the following form record:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const myFormValues = {\n  product: 'shoes',\n  discount: 5,\n  price: 20,\n  isPrime: false,\n};\n`}</code></pre>\n    <p>{`And we want to set the following rules:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Product must be a required field.`}</li>\n      <li parentName=\"ul\">{`Discount must be a required field.`}</li>\n      <li parentName=\"ul\">{`Price must be a required field.`}</li>\n      <li parentName=\"ul\">{`FreeShipping can be true if the total amount (`}<em parentName=\"li\">{`price - discount`}</em>{`) is greater than 20 USD, or if the field `}<em parentName=\"li\">{`isPrime`}</em>{` is true. We want to trigger\nthis validation when the user hits on submit button.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"defining-field-validations\"\n    }}>{`Defining field validations`}</h2>\n    <p>{`Let's start by defining a validation schema that includes the field validations:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import { createFormValidation, Validators } from '@lemoncode/fonk';\n\nconst validationSchema = {\n  field: {\n    product: [Validators.required],\n    discount: [Validators.required],\n    price: [Validators.required],\n  },\n};\n\nexport const formValidation = createFormValidation(validationSchema);\n`}</code></pre>\n    <p>{`Dissecting the previous code snippet:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`We have just added a section into the schema called 'field'.`}</li>\n      <li parentName=\"ul\">{`Inside 'field' object we have created new keys one per each form field that we want to validate (this keys have the same name as the field we want to validate).`}</li>\n      <li parentName=\"ul\">{`Each field key will contain an array indicating the fields validation to be sequentially executed when triggering a field validation or full form validation.`}</li>\n      <li parentName=\"ul\">{`Given that validation schema we create a `}<a parentName=\"li\" {...{\n          \"href\": \"/fonk-doc/api#formvalidation\"\n        }}><strong parentName=\"a\">{`FormValidation`}</strong></a>{` object using the `}<a parentName=\"li\" {...{\n          \"href\": \"/fonk-doc/api#createformvalidation\"\n        }}><strong parentName=\"a\">{`createFormValidation`}</strong></a>{` factory method, this will allow us to call the `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/Lemoncode/fonk\"\n        }}><strong parentName=\"a\">{`Fonk`}</strong></a>{`\nengine to trigger a field, form or record validation associated to the `}<a parentName=\"li\" {...{\n          \"href\": \"/fonk-doc/api#validationschema\"\n        }}><strong parentName=\"a\">{`Validation Schema`}</strong></a>{`\nwe have previously created.`}</li>\n    </ul>\n    <p>{`If we want to fire a field validation we can run the following code:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// We pass here the Id of the field to validate, and the new value for that field\nformValidation\n  .validateField('product', 'my new product name')\n  .then(validationResult => {\n    console.log(result);\n  });\n`}</code></pre>\n    <p>{`More information about Fonk `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/validating-field\"\n      }}>{`validateField`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"defining-record-validations\"\n    }}>{`Defining record validations`}</h2>\n    <p>{`Record validations are global validations that are not tied up to a given specific field, they\nare just the type of validations you want to trigger once the user hits on the submit button.`}</p>\n    <p>{`Continuing with the case we have define previously, we want to define the following record validation rule:`}</p>\n    <p><em parentName=\"p\">{`Free shipping costs can only be true if user is subscribed to prime services or if the total cost\n(price - discount) is greater than 20 USD.`}</em></p>\n    <p>{`Let's define the record validator (since is custom login we will define it from scratch,\nand attach it to the Validation Schema we have created before).`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-diff\"\n      }}>{`import { createFormValidation, Validators } from \"@lemoncode/fonk\";\n\n+ // A record validator receives in the args an object with\n+ // all the record values and optionally the custom message\n+ const freeShippingRecordValidator = ({ values }) => {\n+   const succeeded = values.isPrime || values.price - values.discount > 20;\n\n+   return {\n+     succeeded,\n+     message: succeeded\n+       ? ''\n+       : 'Subscribe to prime service or total must be greater than 20USD',\n+     type: 'RECORD_FREE_SHIPPING',\n+   };\n+ };\n\nconst validationSchema = {\n  field: {\n    product: [Validators.required],\n    discount: [Validators.required],\n    price: [Validators.required]\n  },\n+ record: {\n+   freeShipping: [freeShippingRecordValidator],\n+ },\n};\n\nexport const formValidation = createFormValidation(validationSchema);\n`}</code></pre>\n    <p>{`Now we can fire this record validation using `}<strong parentName=\"p\">{`Fonk`}</strong>{` engine `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/api#validaterecord\"\n      }}>{`validateRecord`}</a>{`, and this validation\nwill be triggered when we fire the `}<strong parentName=\"p\">{`Fonk`}</strong>{` engine method `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/api#validateform\"\n      }}>{`validateForm`}</a></p>\n    <p>{`If we want to fire a record validation we can run the following code:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// We pass all the values information\nformValidation.validateRecord(myFormValues).then(recordValidationResult => {\n  console.log(result);\n});\n`}</code></pre>\n    <p>{`If we want to fire all field and form validations associaged to the form, we can run the following code:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// We pass all the values information\nformValidation.validateForm(myFormValues).then(formValidationResult => {\n  console.log(result);\n});\n`}</code></pre>\n    <p><img alt=\"validate-field-record-and-form\" src={require(\"../gifs/validate-field-record-and-form.gif\")} /></p>\n    <p>{`More information about Fonk `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/validating-record\"\n      }}>{`validateRecord`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/validating-form\"\n      }}>{`validateForm`}</a>{`.`}</p>\n    <p>{`Live demos working example:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/js/validate-field-record-and-form\"\n        }}>{`Plain Vanilla JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/ts/validate-field-record-and-form\"\n        }}>{`Plain Vanilla TS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/js/validate-field-record-and-form\"\n        }}>{`React + React Final Form JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/ts/validate-field-record-and-form\"\n        }}>{`React + React Final Form TS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/Lemoncode/fonk/tree/master/examples/vue/js/validate-field-record-and-form\"\n        }}>{`Vuejs JS`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"adding-additional-context-information\"\n    }}>{`Adding additional context information`}</h2>\n    <p>{`What happens if we need to add addional context information to the validator function, for instance passing a custom error message ? The `}<strong parentName=\"p\">{`ValidationSchema`}</strong>{` supports two signatures whenever we want to add a validation:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The short definition: the one we have been using, is just adding the validator function we need.`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const validationSchema = {\n  field: {\n    product: [validators.required],\n  },\n};\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`The long definition: we can create an object where we can inform the validator function, override the default error message(s) and pass custom arguments.`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const validationSchema = {\n  field: {\n    product: [\n      {\n        validator: validators.required,\n        message: 'My custom error message',\n      },\n    ],\n  },\n};\n`}</code></pre>\n    <p><img alt=\"custom-error-message\" src={require(\"../gifs/custom-error-message.gif\")} /></p>\n    <p>{`Live demos working example:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/js/custom-error-message\"\n        }}>{`Plain Vanilla JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/ts/custom-error-message\"\n        }}>{`Plain Vanilla TS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/js/custom-error-message\"\n        }}>{`React + React Final Form JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/ts/custom-error-message\"\n        }}>{`React + React Final Form TS`}</a>{`.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"nested-fields\"\n    }}>{`Nested fields`}</h2>\n    <p>{`In this example we have used a plain object that didn't contain any nested property.`}</p>\n    <p>{`What would happen if we have a richer object? Something like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const myFormValues = {\n  product: {\n    id: 1245,\n    name: 'shoes',\n  },\n};\n`}</code></pre>\n    <p>{`How can we add `}<em parentName=\"p\">{`product.name`}</em>{` to my validation schema? It's easy just use `}<em parentName=\"p\">{`product.name`}</em>{` as a key, surrounding it with double quotes:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-diff\"\n      }}>{`const validationSchema = {\n  field: {\n-    product: [Validators.required],\n+    \"product.name\": [Validators.required],\n  }\n};\n`}</code></pre>\n    <p><img alt=\"nested-field\" src={require(\"../gifs/nested-field.gif\")} /></p>\n    <p>{`Live demos working example:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/js/nested-field\"\n        }}>{`Plain Vanilla JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/ts/nested-field\"\n        }}>{`Plain Vanilla TS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/js/nested-field\"\n        }}>{`React + React Final Form JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/ts/nested-field\"\n        }}>{`React + React Final Form TS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/Lemoncode/fonk/tree/master/examples/vue/js/nested-field\"\n        }}>{`Vuejs JS`}</a>{`.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"asynchronous-validations\"\n    }}>{`Asynchronous validations`}</h2>\n    <p>{`What about asynchronous validations? Under the hood `}<strong parentName=\"p\">{`fonk`}</strong>{` is fully asynchronous, you can plug an asynchronous validation directly into the validations array.`}</p>\n    <p>{`Let's create a simple login form, and define a new validation set: the user name must be required, and account name must not exist as a github account\n(we will check against github api).`}</p>\n    <p>{`The form values we have:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const myLoginFormValues = {\n  user: 'mojombo',\n  password: '',\n};\n`}</code></pre>\n    <p>{`The field validator (check `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/validators/custom-validators-async\"\n      }}>{`Custom validators asynchronous`}</a>{` for more info).`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const userExistsOnGithubValidator = ({ value }) => {\n  const validationResult = {\n    type: 'GITHUB_USER_EXISTS',\n    succeeded: false,\n    message: 'The username exists on Github',\n  };\n\n  return fetch(\\`https://api.github.com/users/\\${value}\\`).then(response => {\n    // Status 404, User does not exists, the given user is valid\n    // Status 200, meaning user exists, the given user is not valid\n    return response.status === 404\n      ? {\n          ...validationResult,\n          succeeded: true,\n          message: '',\n        }\n      : validationResult;\n  });\n};\n`}</code></pre>\n    <p>{`How to setup a validation schema that checks if the user field is informed and is a valid\ngithub account:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import { createFormValidation, Validators } from '@lemoncode/fonk';\n\nconst validationSchema = {\n  field: {\n    user: [Validators.required, userExistsOnGithubValidator],\n  },\n};\n\nexport const formValidation = createFormValidation(validationSchema);\n`}</code></pre>\n    <p><img alt=\"async-validator\" src={require(\"../gifs/async-validator.gif\")} /></p>\n    <p>{`Live demos working example:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/js/async-validator\"\n        }}>{`Plain Vanilla JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/vanilla/ts/async-validator\"\n        }}>{`Plain Vanilla TS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/js/async-validator\"\n        }}>{`React + React Final Form JS`}</a>{`.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/react-final-form/ts/async-validator\"\n        }}>{`React + React Final Form TS`}</a>{`.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next Steps`}</h2>\n    <p>{`Now it's time to learn how to trigger a field validation, follow this `}<a parentName=\"p\" {...{\n        \"href\": \"/fonk-doc/validating-field\"\n      }}>{`link`}</a>{` to jump into it.`}</p>\n    <h2 {...{\n      \"id\": \"appendix-validation-schema-typescript-definition\"\n    }}>{`Appendix: Validation Schema Typescript definition`}</h2>\n    <p>{`To know the exact api + model exposed, below you will find the typescript definition for\nvalidation schema:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`export interface ValidationSchema {\n  field?: FieldValidationSchema;\n  record?: RecordValidationSchema;\n}\n`}</code></pre>\n    <p>{`Field Validation Schema:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`export interface FieldValidationSchema {\n  [fieldId: string]: FieldValidation[];\n}\n\nexport type FieldValidation =\n  | FieldValidationFunctionSyncAsync\n  | FullFieldValidation;\n\nexport type FieldValidationFunctionSyncAsync =\n  | FieldValidationFunctionAsync\n  | FieldValidationFunctionSync;\n\nexport type FieldValidationFunctionSync = (\n  fieldValidatorArgs: FieldValidatorArgs\n) => ValidationResult;\n\nexport type FieldValidationFunctionAsync = (\n  fieldValidatorArgs: FieldValidatorArgs\n) => Promise<ValidationResult>;\n\nexport interface FullFieldValidation {\n  validator:\n    | FieldValidationFunctionSyncAsync\n    | { validator: FieldValidationFunctionSyncAsync };\n  customArgs?: any;\n  message?: string | string[];\n}\n`}</code></pre>\n    <p>{`Record:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`export interface RecordValidationSchema {\n  [recordId: string]: RecordValidation[];\n}\n\nexport type RecordValidation =\n  | RecordValidationFunctionSyncAsync\n  | FullRecordValidation;\n\nexport type RecordValidationFunctionSyncAsync =\n  | RecordValidationFunctionSync\n  | RecordValidationFunctionAsync;\n\nexport type RecordValidationFunctionSync = (\n  recordValidatorArgs: RecordValidatorArgs\n) => ValidationResult;\n\nexport type RecordValidationFunctionAsync = (\n  recordValidatorArgs: RecordValidatorArgs\n) => Promise<ValidationResult>;\n\nexport interface RecordValidatorArgs {\n  values: any;\n  message?: string | string[];\n}\n\nexport interface FullRecordValidation {\n  validator:\n    | RecordValidationFunctionSyncAsync\n    | { validator: RecordValidationFunctionSyncAsync };\n  message?: string | string[];\n}\n`}</code></pre>\n    <p>{`ValidationResult:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`export interface ValidationResult {\n  type: string;\n  succeeded: boolean;\n  message: string;\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","module.exports = __webpack_public_path__ + \"static/nested-field-efb58d0feadabe0d529ead3ca281bdc3.gif\";"],"sourceRoot":""}